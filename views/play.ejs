<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ò–≥—Ä–æ–≤–∞—è –°—Ç—Ä–∞–Ω–∏—Ü–∞</title>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–æ–≤ -->
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–∞ Roboto -->
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      /* –°–±—Ä–æ—Å —Å—Ç–∏–ª–µ–π */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
      body {
        margin: 0;
        padding: 0;
        font-family: "Roboto", sans-serif;
        text-align: center;
        overflow: hidden; /* –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫—É */
        background: #1a1a2e; /* –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ */
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
      }

      /* –§–æ–Ω —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π */
      .background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.1),
          rgba(0, 0, 0, 0.8)
        );
        animation: move 10s infinite linear;
        z-index: -1;
      }

      @keyframes move {
        0% {
          background-position: 0% 0%;
        }
        100% {
          background-position: 100% 100%;
        }
      }

      /* –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–∞–ª–∞–Ω—Å –≤ –≤–µ—Ä—Ö–Ω–µ–º –ª–µ–≤–æ–º —É–≥–ª—É */
      .username {
        position: absolute;
        top: 20px;
        left: 20px;
        font-size: 16px;
        color: yellow;
        z-index: 2;
        text-align: left;
      }

      /* –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–∞–ª–∞–Ω—Å–∞ */
      .user-name {
        font-weight: bold;
      }

      .user-balance {
        font-size: 18px; /* –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
        color: #7cfc00;
        font-weight: bold;
      }

      /* –ò–∫–æ–Ω–∫–∞ –∫–æ—à–µ–ª—å–∫–∞ –≤ –≤–µ—Ä—Ö–Ω–µ–º –ø—Ä–∞–≤–æ–º —É–≥–ª—É */
      .wallet-icon {
        position: absolute;
        top: 15px;
        right: 20px;
        width: 30px; /* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Ä–∞–∑–º–µ—Ä */
        height: auto;
        z-index: 2;
      }

      /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
      .container {
        position: relative;
        z-index: 2;
        text-align: center;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100%;
        padding: 20px 0;
      }

      /* –ë–ª–æ–∫ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ç–∞–π–º–µ—Ä–∞ –∏ –∫–Ω–æ–ø–∫–∏ */
      .content {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      /* –°—Ç–∏–ª—å –¥–ª—è –Ω–∞–¥–ø–∏—Å–∏ SPEED */
      .speed-text {
        color: white;
        font-size: 20px;
        margin-bottom: 10px;
        font-weight: bold;
      }

      /* –°—Ç–∏–ª—å –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –ø—É–ª—å—Å–∞—Ü–∏–∏ */
      .coins-image {
        width: 50%;
        height: auto;
        animation: pulseEffect 2s infinite;
        position: relative;
        margin-bottom: 30px; /* –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
      }

      @keyframes pulseEffect {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      /* –°—Ç–∏–ª–∏ –¥–ª—è —ç–º–æ–¥–∑–∏ */
      .emoji {
        position: absolute;
        font-size: 24px;
        opacity: 0;
        animation: flyOut 2s forwards;
        pointer-events: none;
      }

      @keyframes flyOut {
        0% {
          transform: translate(0, 0) scale(1);
          opacity: 1;
        }
        100% {
          transform: translate(var(--dx), var(--dy)) scale(0.5);
          opacity: 0;
        }
      }

      /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–∞–π–º–µ—Ä–∞ */
      .timer {
        width: 60%;
        color: white;
        font-size: 24px;
        margin: 10px auto;
        text-align: center;
        position: relative;
        font-family: "Press Start 2P", cursive;
      }

      /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –ø–æ–¥ —Ç–∞–π–º–µ—Ä–æ–º */
      .timer-text {
        color: red; /* –ö—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ */
        font-size: 14px;
        margin-top: 10px;
        text-align: center;
        width: 80%;
        font-weight: bold; /* –ñ–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç */
      }

      /* –°—Ç–∏–ª–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø–µ—Ä–µ–ª–∏–≤–∞–Ω–∏—è */
      .flow-effect {
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        font-size: 24px;
        color: white;
        animation: flowToBalance 1s forwards;
      }

      @keyframes flowToBalance {
        0% {
          opacity: 1;
          top: 0;
          transform: translateX(-50%) translateY(0);
        }
        100% {
          opacity: 0;
          top: -100px;
          transform: translateX(-50%) translateY(-150px);
        }
      }

      /* –°—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –º–æ–Ω–µ—Ç–æ–∫ */
      .coin-animation {
        position: absolute;
        font-size: 24px;
        z-index: 1000;
        transition:
          transform 1s ease-in-out,
          opacity 1s;
        will-change: transform;
      }

      /* –°—Ç–∏–ª–∏ –∫–Ω–æ–ø–∫–∏ */
      .button {
        background: linear-gradient(to right, #ff4081, #00b0ff);
        color: white;
        padding: 15px 30px;
        border: none;
        border-radius: 30px;
        cursor: pointer;
        font-size: 20px;
        margin-top: 30px; /* –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–π –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É */
        transition:
          transform 0.2s,
          box-shadow 0.2s;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        text-decoration: none;
        display: inline-block;
        outline: none; /* –£–±–∏—Ä–∞–µ–º –æ–±–≤–æ–¥–∫—É –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ */
        user-select: none; /* –ó–∞–ø—Ä–µ—â–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ */
      }

      .button:hover {
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.7);
      }

      .button:active {
        transform: scale(0.95);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      }

      .button:focus {
        outline: none; /* –£–±–∏—Ä–∞–µ–º –æ–±–≤–æ–¥–∫—É –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ */
      }

      /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é */
      .menu-button {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        width: 40px;
        height: 40px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        z-index: 3;
      }

      .menu-line {
        width: 30px; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à–∏—Ä–∏–Ω—É –¥–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ª–∏–Ω–∏–π */
        height: 4px; /* –£–º–µ–Ω—å—à–∞–µ–º –≤—ã—Å–æ—Ç—É –¥–ª—è —Ç–æ–Ω–∫–æ—Å—Ç–∏ –ª–∏–Ω–∏–π */
        background-color: white;
        border-radius: 2px;
      }
    </style>
  </head>
  <body>
    <!-- –§–æ–Ω —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π -->
    <div class="background"></div>

    <!-- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–∞–ª–∞–Ω—Å –≤ –≤–µ—Ä—Ö–Ω–µ–º –ª–µ–≤–æ–º —É–≥–ª—É -->
    <div class="username">
      <div class="user-name"><%= username %></div>
      <div class="user-balance" id="balance">ü™ô <%= cointrust %> coins</div>
    </div>

    <!-- –ò–∫–æ–Ω–∫–∞ –∫–æ—à–µ–ª—å–∫–∞ –≤ –≤–µ—Ä—Ö–Ω–µ–º –ø—Ä–∞–≤–æ–º —É–≥–ª—É -->
    <img src="wallet.png" alt="Wallet" class="wallet-icon" />

    <div class="container">
      <!-- –ë–ª–æ–∫ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º, —Ç–∞–π–º–µ—Ä–æ–º –∏ –∫–Ω–æ–ø–∫–æ–π -->
      <div class="content">
        <!-- –ù–∞–¥–ø–∏—Å—å SPEED: x1 –Ω–∞–¥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º -->
        <div class="speed-text">SPEED: x1</div>

        <img src="coins.png" alt="Coins" class="coins-image" id="coinsImage" />

        <!-- –¢–∞–π–º–µ—Ä –±–µ–∑ —ç–º–æ–¥–∑–∏ -->
        <div class="timer" id="timer">0.0001</div>

        <!-- –¢–µ–∫—Å—Ç –ø–æ–¥ —Ç–∞–π–º–µ—Ä–æ–º -->
        <div class="timer-text">
          –ó–∞–±–∏—Ä–∞–π –º–æ–Ω–µ—Ç—ã –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞ –∏–ª–∏ –æ–Ω–∏ —Å–≥–æ—Ä–∞—é—Ç
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ "–ó–ê–ë–†–ê–¢–¨" –±–ª–∏–∂–µ –∫ —Ç–µ–∫—Å—Ç—É -->
        <a href="#" class="button" id="collectButton">–ó–ê–ë–†–ê–¢–¨</a>
      </div>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—é –≤–Ω–∏–∑—É –ø–æ —Ü–µ–Ω—Ç—Ä—É —ç–∫—Ä–∞–Ω–∞ -->
    <div class="menu-button">
      <div class="menu-line"></div>
      <div class="menu-line"></div>
      <div class="menu-line"></div>
    </div>

    <script>
      // –≠–º–æ–¥–∑–∏ –¥–ª—è –≤—ã–ª–µ—Ç–∞
      const emojis = ["‚ù§Ô∏è", "üëç", "üí¨"];

      // –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ —ç–º–æ–¥–∑–∏
      function launchEmojis() {
        const image = document.getElementById("coinsImage");
        const rect = image.getBoundingClientRect();
        const imageCenterX = rect.left + rect.width / 2;
        const imageCenterY = rect.top + rect.height / 2;

        const viewportWidth = window.innerWidth;
        const viewportHeight = window.innerHeight;

        emojis.forEach((emoji) => {
          const emojiEl = document.createElement("div");
          emojiEl.classList.add("emoji");
          emojiEl.textContent = emoji;

          // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é –≤ —Ü–µ–Ω—Ç—Ä–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
          emojiEl.style.left = imageCenterX + "px";
          emojiEl.style.top = imageCenterY + "px";

          // –í—ã—á–∏—Å–ª—è–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —Å–º–µ—â–µ–Ω–∏—è, —á—Ç–æ–±—ã —ç–º–æ–¥–∑–∏ –Ω–µ –≤—ã—Ö–æ–¥–∏–ª–∏ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã —ç–∫—Ä–∞–Ω–∞
          const maxOffsetX = Math.min(
            imageCenterX - 20,
            viewportWidth - imageCenterX - 20
          );
          const maxOffsetY = imageCenterY - 20; // –≠–º–æ–¥–∑–∏ –±—É–¥—É—Ç –ª–µ—Ç–µ—Ç—å —Ç–æ–ª—å–∫–æ –≤–≤–µ—Ä—Ö

          // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ
          const dx = (Math.random() - 0.5) * 2 * maxOffsetX;
          const dy = -Math.random() * maxOffsetY;

          // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
          emojiEl.style.setProperty("--dx", dx + "px");
          emojiEl.style.setProperty("--dy", dy + "px");

          document.body.appendChild(emojiEl);

          // –£–¥–∞–ª—è–µ–º —ç–º–æ–¥–∑–∏ –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
          emojiEl.addEventListener("animationend", () => {
            emojiEl.remove();
          });
        });
      }

      // –ó–∞–ø—É—Å–∫–∞–µ–º —ç–º–æ–¥–∑–∏ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
      setInterval(launchEmojis, 2000);

      // –¢–∞–π–º–µ—Ä
      let timerValue = 0.0001;

      function updateTimer() {
        // –ü—Ä–∏–±–∞–≤–ª—è–µ–º 0.0001 –∫ —Ç–µ–∫—É—â–µ–º—É –∑–Ω–∞—á–µ–Ω–∏—é
        timerValue += 0.0001;
        // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
        timerValue = parseFloat(timerValue.toFixed(4));
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞
        document.getElementById("timer").textContent = timerValue.toFixed(4);
      }

      // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä, –æ–±–Ω–æ–≤–ª—è—è –∫–∞–∂–¥—ã–µ 500 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥
      let timerInterval = setInterval(updateTimer, 500);

      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ "–ó–ê–ë–†–ê–¢–¨"
      document
        .getElementById("collectButton")
        .addEventListener("click", function (event) {
          event.preventDefault(); // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ

          // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –∏–∑ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
          const balanceElement = document.getElementById("balance");
          let balanceText = balanceElement.textContent;
          let balanceMatch = balanceText.match(/ü™ô ([\d\.]+) coins/);
          let currentBalance = balanceMatch ? parseFloat(balanceMatch[1]) : 0;

          // –î–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞ –∫ –±–∞–ª–∞–Ω—Å—É
          currentBalance += timerValue;
          currentBalance = parseFloat(currentBalance.toFixed(4));

          // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
          balanceElement.textContent = `ü™ô ${currentBalance.toFixed(4)} coins`;

          // –°–æ–∑–¥–∞—ë–º —ç—Ñ—Ñ–µ–∫—Ç –ø–µ—Ä–µ–ª–∏–≤–∞–Ω–∏—è
          const timerElement = document.getElementById("timer");
          const flowEffect = document.createElement("div");
          flowEffect.className = "flow-effect";
          flowEffect.textContent = `+${timerValue.toFixed(4)}`;
          timerElement.appendChild(flowEffect);

          // –£–¥–∞–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
          flowEffect.addEventListener("animationend", () => {
            flowEffect.remove();
          });

          // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
          timerValue = 0.0001;
          document.getElementById("timer").textContent = timerValue.toFixed(4);

          // –≠—Ñ—Ñ–µ–∫—Ç –ª–µ—Ç—è—â–∏—Ö –º–æ–Ω–µ—Ç–æ–∫ –∫ –±–∞–ª–∞–Ω—Å—É
          const timerRect = timerElement.getBoundingClientRect();
          const balanceRect = balanceElement.getBoundingClientRect();

          // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç–æ–∫
          const numCoins = 5;

          for (let i = 0; i < numCoins; i++) {
            const coin = document.createElement("div");
            coin.className = "coin-animation";
            coin.textContent = "ü™ô";

            // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è (–Ω–∞–¥ —Ç–∞–π–º–µ—Ä–æ–º)
            const offsetX = (Math.random() - 0.5) * 20; // –°–ª—É—á–∞–π–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –ø–æ X
            const offsetY = (Math.random() - 0.5) * 20; // –°–ª—É—á–∞–π–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –ø–æ Y

            coin.style.left =
              timerRect.left + timerRect.width / 2 + offsetX + "px";
            coin.style.top =
              timerRect.top + timerRect.height / 2 + offsetY + "px";

            document.body.appendChild(coin);

            // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π reflow
            coin.offsetWidth;

            // –ö–æ–Ω–µ—á–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è (–Ω–∞–¥ –±–∞–ª–∞–Ω—Å–æ–º)
            const deltaX =
              balanceRect.left +
              balanceRect.width / 2 -
              (timerRect.left + timerRect.width / 2 + offsetX);
            const deltaY =
              balanceRect.top +
              balanceRect.height / 2 -
              (timerRect.top + timerRect.height / 2 + offsetY);

            // –ê–Ω–∏–º–∞—Ü–∏—è
            coin.style.transform = `translate(${deltaX}px, ${deltaY}px)`;
            coin.style.opacity = "0";

            // –£–¥–∞–ª—è–µ–º –º–æ–Ω–µ—Ç–∫—É –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
            coin.addEventListener("transitionend", () => {
              coin.remove();
            });
          }

          // –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–∞–π–º–µ—Ä (–æ–Ω —É–∂–µ –∑–∞–ø—É—â–µ–Ω, –ø–æ—ç—Ç–æ–º—É –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º)
        });
    </script>
  </body>
</html>
